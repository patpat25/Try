<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --green-dark: #4F6D3A;
            --green-light: #8CB360;
            --pink-light: #FC9FB1;
            --pink-medium: #FC5A8D;
            --red-medium: #EC4653;
            --red-dark: #E32E34;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f4ed;
            color: #333;
        }
        
        .tab-active {
            background-color: var(--green-dark);
            color: white;
        }
        
        .calendar-day {
            min-height: 120px;
            transition: all 0.3s;
        }
        
        .calendar-day:hover {
            background-color: rgba(140, 179, 96, 0.2);
        }
        
        .task-item {
            border-left: 4px solid var(--green-light);
            transition: all 0.2s;
        }
        
        .task-item:hover {
            transform: translateX(2px);
        }
        
        .task-item.priority-high {
            border-left-color: var(--red-dark);
        }
        
        .task-item.priority-medium {
            border-left-color: var(--pink-medium);
        }
        
        .task-item.priority-low {
            border-left-color: var(--green-light);
        }
        
        .task-item.category-HVAC {
            background-color: rgba(79, 109, 58, 0.15);
        }
        
        .task-item.category-MachineDesign {
            background-color: rgba(140, 179, 96, 0.15);
        }
        
        .task-item.category-DataAnalytics {
            background-color: rgba(252, 159, 177, 0.15);
        }
        
        .task-item.category-AISaas {
            background-color: rgba(252, 90, 141, 0.15);
        }
        
        .btn-primary {
            background-color: var(--green-dark);
            color: white;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            background-color: var(--green-light);
        }
        
        .btn-secondary {
            background-color: var(--pink-medium);
            color: white;
            transition: all 0.3s;
        }
        
        .btn-secondary:hover {
            background-color: var(--pink-light);
        }
        
        .btn-danger {
            background-color: var(--red-dark);
            color: white;
            transition: all 0.3s;
        }
        
        .btn-danger:hover {
            background-color: var(--red-medium);
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--green-light);
            transition: width 0.5s ease-in-out;
        }
        
        .holiday {
            background-color: rgba(252, 90, 141, 0.2);
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 0.8rem;
            color: var(--red-dark);
        }
        
        .digital-clock {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--green-dark);
        }
        
        .timer-display {
            font-family: 'Courier New', monospace;
            font-size: 8rem;
            font-weight: bold;
            color: var(--green-dark);
            text-align: center;
        }
        
        .timer-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.3s;
        }
        
        .timer-btn:hover {
            transform: scale(1.05);
        }
        
        .curriculum-item {
            transition: all 0.2s;
        }
        
        .curriculum-item:hover {
            background-color: rgba(140, 179, 96, 0.1);
        }
        
        .photo-thumbnail {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .photo-thumbnail:hover {
            transform: scale(1.1);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 90%;
            max-height: 90%;
            overflow: auto;
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
        }
    </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.16 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.relative{position:relative}.col-span-1{grid-column:span 1 / span 1}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:0.5rem}.ml-3{margin-left:0.75rem}.mr-1{margin-right:0.25rem}.mr-2{margin-right:0.5rem}.mt-1{margin-top:0.25rem}.mt-4{margin-top:1rem}.mt-2{margin-top:0.5rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.max-h-\[70vh\]{max-height:70vh}.min-h-screen{min-height:100vh}.min-h-\[120px\]{min-height:120px}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-full{max-width:100%}.max-w-lg{max-width:32rem}.flex-1{flex:1 1 0%}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.grid-cols-7{grid-template-columns:repeat(7, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-x-3 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.75rem * var(--tw-space-x-reverse));margin-left:calc(0.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-6 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-x-2 > :not([hidden]) ~ :not([hidden]){--tw-space-x-reverse:0;margin-right:calc(0.5rem * var(--tw-space-x-reverse));margin-left:calc(0.5rem * calc(1 - var(--tw-space-x-reverse)))}.overflow-hidden{overflow:hidden}.rounded-lg{border-radius:0.5rem}.rounded{border-radius:0.25rem}.rounded-l-lg{border-top-left-radius:0.5rem;border-bottom-left-radius:0.5rem}.rounded-r-lg{border-top-right-radius:0.5rem;border-bottom-right-radius:0.5rem}.rounded-t-lg{border-top-left-radius:0.5rem;border-top-right-radius:0.5rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-\[\#8CB360\]{--tw-border-opacity:1;border-color:rgb(140 179 96 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.bg-\[\#4F6D3A\]{--tw-bg-opacity:1;background-color:rgb(79 109 58 / var(--tw-bg-opacity, 1))}.bg-\[\#8CB360\]{--tw-bg-opacity:1;background-color:rgb(140 179 96 / var(--tw-bg-opacity, 1))}.bg-\[\#f0f4ed\]{--tw-bg-opacity:1;background-color:rgb(240 244 237 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity:1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-\[\#E32E34\]{--tw-bg-opacity:1;background-color:rgb(227 46 52 / var(--tw-bg-opacity, 1))}.bg-\[\#FC5A8D\]{--tw-bg-opacity:1;background-color:rgb(252 90 141 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.p-4{padding:1rem}.p-8{padding:2rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-\[\#4F6D3A\]{--tw-text-opacity:1;color:rgb(79 109 58 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-\[\#E32E34\]{--tw-text-opacity:1;color:rgb(227 46 52 / var(--tw-text-opacity, 1))}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:bg-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}@media (min-width: 768px){.md\:col-span-2{grid-column:span 2 / span 2}.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}}</style></head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-6">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-[#4F6D3A]">Study Calendar</h1>
            <div class="digital-clock" id="digitalClock">10:14:25 AM</div>
        </div>
        
        <!-- Navigation Tabs -->
        <div class="flex mb-6 border-b border-[#8CB360]">
            <button class="tab-btn px-6 py-3 font-medium tab-active" data-tab="calendar">Calendar</button>
            <button class="tab-btn px-6 py-3 font-medium" data-tab="sheet">Sheet View</button>
            <button class="tab-btn px-6 py-3 font-medium" data-tab="curriculum">Curriculum</button>
            <button class="tab-btn px-6 py-3 font-medium" data-tab="pomodoro">Pomodoro Timer</button>
        </div>
        
        <!-- Calendar Tab -->
        <div id="calendar" class="tab-content">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center">
                    <button id="prevMonth" class="btn-primary px-4 py-2 rounded-l-lg"><i class="fas fa-chevron-left"></i></button>
                    <h2 id="currentMonth" class="px-6 py-2 bg-[#8CB360] text-white font-bold">May 2025</h2>
                    <button id="nextMonth" class="btn-primary px-4 py-2 rounded-r-lg"><i class="fas fa-chevron-right"></i></button>
                </div>
                <button id="addTaskBtn" class="btn-secondary px-4 py-2 rounded-lg">
                    <i class="fas fa-plus mr-2"></i>Add Task
                </button>
                <button id="addPhotoBtn" class="btn-primary px-4 py-2 rounded-lg">
                    <i class="fas fa-image mr-2"></i>Add Photo
                </button>
            </div>
            
            <!-- Calendar Grid -->
            <div class="grid grid-cols-7 gap-2 mb-6">
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Sun</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Mon</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Tue</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Wed</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Thu</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Fri</div>
                <div class="text-center font-bold py-2 bg-[#4F6D3A] text-white rounded-t-lg">Sat</div>
            </div>
            
            <div id="calendarGrid" class="grid grid-cols-7 gap-2"><div class="bg-gray-100 rounded-lg p-2 min-h-[120px]"></div><div class="bg-gray-100 rounded-lg p-2 min-h-[120px]"></div><div class="bg-gray-100 rounded-lg p-2 min-h-[120px]"></div><div class="bg-gray-100 rounded-lg p-2 min-h-[120px]"></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-01"><div class="holiday mb-2">Labor Day</div><div class="text-right font-bold mb-2">1</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-02"><div class="text-right font-bold mb-2">2</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-03"><div class="text-right font-bold mb-2">3</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-04"><div class="text-right font-bold mb-2">4</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-05"><div class="text-right font-bold mb-2">5</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-06"><div class="text-right font-bold mb-2">6</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-07"><div class="text-right font-bold mb-2">7</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-08"><div class="text-right font-bold mb-2">8</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-09"><div class="text-right font-bold mb-2">9</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-10"><div class="text-right font-bold mb-2">10</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-11"><div class="text-right font-bold mb-2">11</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-12"><div class="text-right font-bold mb-2">12</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-13"><div class="text-right font-bold mb-2">13</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-14"><div class="text-right font-bold mb-2">14</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-15"><div class="text-right font-bold mb-2">15</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-16"><div class="text-right font-bold mb-2">16</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-17"><div class="text-right font-bold mb-2">17</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-18"><div class="text-right font-bold mb-2">18</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-19"><div class="text-right font-bold mb-2">19</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-20"><div class="text-right font-bold mb-2">20</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-21"><div class="text-right font-bold mb-2">21</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-22"><div class="text-right font-bold mb-2">22</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-23"><div class="text-right font-bold mb-2">23</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-24"><div class="text-right font-bold mb-2">24</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-25"><div class="text-right font-bold mb-2">25</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-26"><div class="text-right font-bold mb-2">26</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-27"><div class="text-right font-bold mb-2">27</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-28"><div class="text-right font-bold mb-2">28</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-29"><div class="text-right font-bold mb-2">29</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-30"><div class="text-right font-bold mb-2">30</div></div><div class="bg-white rounded-lg p-2 calendar-day relative" data-date="2025-05-31"><div class="text-right font-bold mb-2">31</div></div></div>
        </div>
        
        <!-- Sheet View Tab -->
        <div id="sheet" class="tab-content hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-[#4F6D3A]">Task Sheet</h2>
                <div>
                    <button id="addTaskSheetBtn" class="btn-secondary px-4 py-2 rounded-lg">
                        <i class="fas fa-plus mr-2"></i>Add Task
                    </button>
                    <select id="filterTasks" class="ml-2 px-4 py-2 border border-[#8CB360] rounded-lg">
                        <option value="all">All Tasks</option>
                        <option value="upcoming">Upcoming</option>
                        <option value="completed">Completed</option>
                        <option value="overdue">Overdue</option>
                        <option value="study">Study Tasks</option>
                    </select>
                </div>
            </div>
            
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <table class="w-full">
                    <thead>
                        <tr class="bg-[#4F6D3A] text-white">
                            <th class="py-3 px-4 text-left">Task</th>
                            <th class="py-3 px-4 text-left">Category</th>
                            <th class="py-3 px-4 text-left">Priority</th>
                            <th class="py-3 px-4 text-left">Start Date</th>
                            <th class="py-3 px-4 text-left">Duration</th>
                            <th class="py-3 px-4 text-left">Status</th>
                            <th class="py-3 px-4 text-left">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="taskSheetBody"><tr class="border-b hover:bg-gray-50"><td class="py-3 px-4">Study Heat Transfer</td><td class="py-3 px-4">Study: HVAC</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-[#E32E34]">High</span></td><td class="py-3 px-4">Jan 15, 2025 09:00</td><td class="py-3 px-4">2 days</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-gray-500">Not Started</span></td><td class="py-3 px-4"><button class="btn-primary px-3 py-1 rounded-lg text-sm mr-2"><i class="fas fa-edit"></i></button><button class="btn-danger px-3 py-1 rounded-lg text-sm"><i class="fas fa-trash"></i></button></td></tr><tr class="border-b hover:bg-gray-50"><td class="py-3 px-4">Data Visualization Project</td><td class="py-3 px-4">Study: DataAnalytics</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-[#FC5A8D]">Medium</span></td><td class="py-3 px-4">Jan 18, 2025 14:00</td><td class="py-3 px-4">3 days</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-gray-500">Not Started</span></td><td class="py-3 px-4"><button class="btn-primary px-3 py-1 rounded-lg text-sm mr-2"><i class="fas fa-edit"></i></button><button class="btn-danger px-3 py-1 rounded-lg text-sm"><i class="fas fa-trash"></i></button></td></tr><tr class="border-b hover:bg-gray-50"><td class="py-3 px-4">Research AI Applications</td><td class="py-3 px-4">Study: AISaas</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-[#8CB360]">Low</span></td><td class="py-3 px-4">Jan 20, 2025 10:00</td><td class="py-3 px-4">1 day</td><td class="py-3 px-4"><span class="px-2 py-1 rounded text-white text-xs bg-gray-500">Not Started</span></td><td class="py-3 px-4"><button class="btn-primary px-3 py-1 rounded-lg text-sm mr-2"><i class="fas fa-edit"></i></button><button class="btn-danger px-3 py-1 rounded-lg text-sm"><i class="fas fa-trash"></i></button></td></tr></tbody>
                </table>
            </div>
        </div>
        
        <!-- Curriculum Tab -->
        <div id="curriculum" class="tab-content hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="col-span-1 md:col-span-2">
                    <h2 class="text-2xl font-bold text-[#4F6D3A] mb-4">Study Progress Overview</h2>
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <canvas id="studyProgressChart" height="0" style="box-sizing: border-box; display: block; height: 0px; width: 0px;" width="0"></canvas>
                    </div>
                </div>
                
                <!-- HVAC Curriculum -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold" style="color: #4F6D3A;">HVAC Curriculum</h3>
                        <button class="add-topic-btn btn-primary px-3 py-1 rounded-lg text-sm" data-subject="HVAC">
                            <i class="fas fa-plus mr-1"></i>Add Topic
                        </button>
                    </div>
                    <div class="progress-bar mb-4">
                        <div id="hvacProgress" class="progress-fill" style="width: 33.3333%; background-color: rgb(79, 109, 58);"></div>
                    </div>
                    <div id="hvacTopics" class="curriculum-topics"><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Thermodynamics Basics</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Fundamental principles of thermodynamics</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 40%;"></div></div><span class="ml-2 text-sm">4/10 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Refrigeration Cycles</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Understanding refrigeration cycles and components</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 25%;"></div></div><span class="ml-2 text-sm">2/8 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Heat Transfer</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Principles of conduction, convection, and radiation</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 33.3333%;"></div></div><span class="ml-2 text-sm">2/6 hours</span></div></div></div></div>
                </div>
                
                <!-- Machine Design Curriculum -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold" style="color: #8CB360;">Machine Design Curriculum</h3>
                        <button class="add-topic-btn btn-primary px-3 py-1 rounded-lg text-sm" data-subject="MachineDesign">
                            <i class="fas fa-plus mr-1"></i>Add Topic
                        </button>
                    </div>
                    <div class="progress-bar mb-4">
                        <div id="machineDesignProgress" class="progress-fill" style="width: 20%; background-color: #8CB360;"></div>
                    </div>
                    <div id="machineDesignTopics" class="curriculum-topics"><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Mechanical Properties of Materials</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Understanding material properties for design</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 12.5%;"></div></div><span class="ml-2 text-sm">1/8 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Stress Analysis</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Methods for analyzing stress in components</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 20%;"></div></div><span class="ml-2 text-sm">2/10 hours</span></div></div></div></div>
                </div>
                
                <!-- Data Analytics Curriculum -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold" style="color: #FC9FB1;">Data Analytics Curriculum</h3>
                        <button class="add-topic-btn btn-primary px-3 py-1 rounded-lg text-sm" data-subject="DataAnalytics">
                            <i class="fas fa-plus mr-1"></i>Add Topic
                        </button>
                    </div>
                    <div class="progress-bar mb-4">
                        <div id="dataAnalyticsProgress" class="progress-fill" style="width: 45%; background-color: #FC9FB1;"></div>
                    </div>
                    <div id="dataAnalyticsTopics" class="curriculum-topics"><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Statistical Methods</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Basic and advanced statistical techniques</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 50%;"></div></div><span class="ml-2 text-sm">6/12 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Data Visualization</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Creating effective data visualizations</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 37.5%;"></div></div><span class="ml-2 text-sm">3/8 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">Machine Learning Basics</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Introduction to ML algorithms</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 42.8571%;"></div></div><span class="ml-2 text-sm">6/14 hours</span></div></div></div></div>
                </div>
                
                <!-- AI SaaS Automation Curriculum -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold" style="color: #FC5A8D;">AI SaaS Automation Curriculum</h3>
                        <button class="add-topic-btn btn-primary px-3 py-1 rounded-lg text-sm" data-subject="AISaas">
                            <i class="fas fa-plus mr-1"></i>Add Topic
                        </button>
                    </div>
                    <div class="progress-bar mb-4">
                        <div id="aiSaasProgress" class="progress-fill" style="width: 15%; background-color: #FC5A8D;"></div>
                    </div>
                    <div id="aiSaasTopics" class="curriculum-topics"><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">AI Fundamentals</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Core concepts in artificial intelligence</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 10%;"></div></div><span class="ml-2 text-sm">1/10 hours</span></div></div></div><div class="curriculum-item p-3 border-b border-gray-200"><div class="flex justify-between items-center"><h4 class="font-medium">SaaS Business Models</h4><div class="flex space-x-2"><button class="text-[#E32E34]"><i class="fas fa-trash"></i></button></div></div><div class="mt-2"><p class="text-sm text-gray-600 mb-2">Understanding SaaS business structures</p><div class="flex items-center"><div class="flex-1 progress-bar"><div class="progress-fill" style="width: 16.6667%;"></div></div><span class="ml-2 text-sm">1/6 hours</span></div></div></div></div>
                </div>
                
                <div class="col-span-1 md:col-span-2">
                    <h2 class="text-2xl font-bold text-[#4F6D3A] mb-4">Study Time Distribution</h2>
                    <div class="bg-white p-4 rounded-lg shadow-md">
                        <canvas id="studyDistributionChart" height="0" style="box-sizing: border-box; display: block; height: 0px; width: 0px;" width="0"></canvas>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Pomodoro Timer Tab -->
        <div id="pomodoro" class="tab-content hidden">
            <div class="max-w-2xl mx-auto bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold text-center text-[#4F6D3A] mb-6">Pomodoro Timer</h2>
                
                <div class="timer-display mb-8" id="timerDisplay">25:00</div>
                
                <div class="flex justify-center space-x-6 mb-8">
                    <button id="startTimer" class="timer-btn btn-primary">
                        <i class="fas fa-play"></i>
                    </button>
                    <button id="pauseTimer" class="timer-btn btn-secondary" disabled="">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button id="resetTimer" class="timer-btn btn-danger">
                        <i class="fas fa-redo"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-3 gap-4 mb-6">
                    <button class="btn-primary py-3 rounded-lg timer-preset" data-minutes="25">
                        Pomodoro (25m)
                    </button>
                    <button class="btn-secondary py-3 rounded-lg timer-preset" data-minutes="5">
                        Short Break (5m)
                    </button>
                    <button class="btn-secondary py-3 rounded-lg timer-preset" data-minutes="15">
                        Long Break (15m)
                    </button>
                </div>
                
                <div class="bg-[#f0f4ed] p-4 rounded-lg">
                    <h3 class="font-bold mb-2 text-[#4F6D3A]">Current Session</h3>
                    <div id="currentSession" class="text-lg">Not started</div>
                    
                    <h3 class="font-bold mt-4 mb-2 text-[#4F6D3A]">Today's Progress</h3>
                    <div class="flex items-center">
                        <div class="flex-1 progress-bar">
                            <div id="pomodoroProgress" class="progress-fill" style="width: 0%; background-color: #FC5A8D;"></div>
                        </div>
                        <span class="ml-3" id="pomodoroCount">0/8</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Task Modal -->
        <div id="taskModal" class="modal">
            <div class="modal-content max-w-lg w-full">
                <span class="close-modal" id="closeTaskModal">×</span>
                <h2 class="text-2xl font-bold mb-4 text-[#4F6D3A]">Add New Task</h2>
                
                <form id="taskForm" class="space-y-4">
                    <input type="hidden" id="taskId">
                    <input type="hidden" id="taskDate">
                    
                    <div>
                        <label class="block mb-1 font-medium">Task Title</label>
                        <input type="text" id="taskTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Category</label>
                        <select id="taskCategory" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            <option value="general">General</option>
                            <option value="study">Study</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                        </select>
                    </div>
                    
                    <div id="studySubjectContainer" class="hidden">
                        <label class="block mb-1 font-medium">Study Subject</label>
                        <select id="studySubject" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            <option value="HVAC">HVAC</option>
                            <option value="MachineDesign">Machine Design</option>
                            <option value="DataAnalytics">Data Analytics</option>
                            <option value="AISaas">AI SaaS Automation</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Priority</label>
                        <select id="taskPriority" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block mb-1 font-medium">Start Date</label>
                            <input type="date" id="taskStartDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                        </div>
                        <div>
                            <label class="block mb-1 font-medium">Start Time</label>
                            <input type="time" id="taskStartTime" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Duration (days)</label>
                        <input type="number" id="taskDuration" min="1" value="1" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Description</label>
                        <textarea id="taskDescription" class="w-full px-4 py-2 border border-gray-300 rounded-lg" rows="3"></textarea>
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="cancelTaskBtn" class="px-6 py-2 bg-gray-300 rounded-lg">Cancel</button>
                        <button type="submit" class="btn-primary px-6 py-2 rounded-lg">Save Task</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Photo Upload Modal -->
        <div id="photoModal" class="modal">
            <div class="modal-content max-w-lg w-full">
                <span class="close-modal" id="closePhotoModal">×</span>
                <h2 class="text-2xl font-bold mb-4 text-[#4F6D3A]">Add Photo</h2>
                
                <form id="photoForm" class="space-y-4">
                    <input type="hidden" id="photoDate">
                    
                    <div>
                        <label class="block mb-1 font-medium">Select Date</label>
                        <input type="date" id="selectPhotoDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Upload Photo (Max 5MB)</label>
                        <input type="file" id="photoFile" accept="image/*" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                        <p class="text-sm text-gray-500 mt-1">Maximum file size: 5MB</p>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Caption (Optional)</label>
                        <input type="text" id="photoCaption" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="cancelPhotoBtn" class="px-6 py-2 bg-gray-300 rounded-lg">Cancel</button>
                        <button type="submit" class="btn-primary px-6 py-2 rounded-lg">Upload Photo</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Topic Modal -->
        <div id="topicModal" class="modal">
            <div class="modal-content max-w-lg w-full">
                <span class="close-modal" id="closeTopicModal">×</span>
                <h2 class="text-2xl font-bold mb-4 text-[#4F6D3A]">Add Topic</h2>
                
                <form id="topicForm" class="space-y-4">
                    <input type="hidden" id="topicSubject">
                    
                    <div>
                        <label class="block mb-1 font-medium">Topic Name</label>
                        <input type="text" id="topicName" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Description</label>
                        <textarea id="topicDescription" class="w-full px-4 py-2 border border-gray-300 rounded-lg" rows="3"></textarea>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Estimated Study Hours</label>
                        <input type="number" id="topicHours" min="1" value="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg" required="">
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button type="button" id="cancelTopicBtn" class="px-6 py-2 bg-gray-300 rounded-lg">Cancel</button>
                        <button type="submit" class="btn-primary px-6 py-2 rounded-lg">Save Topic</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Task Status Modal -->
        <div id="statusModal" class="modal">
            <div class="modal-content max-w-lg w-full">
                <span class="close-modal" id="closeStatusModal">×</span>
                <h2 class="text-2xl font-bold mb-4 text-[#4F6D3A]">Update Task Status</h2>
                
                <form id="statusForm" class="space-y-4">
                    <input type="hidden" id="statusTaskId">
                    
                    <div>
                        <h3 id="statusTaskTitle" class="text-xl mb-2">Task Title</h3>
                        <p id="statusTaskDetails" class="text-gray-600 mb-4">Task details</p>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Status</label>
                        <select id="taskStatus" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            <option value="notStarted">Not Started</option>
                            <option value="inProgress">In Progress</option>
                            <option value="completed">Completed</option>
                        </select>
                    </div>
                    
                    <div id="completionContainer">
                        <label class="block mb-1 font-medium">Completion Percentage</label>
                        <input type="range" id="taskCompletion" min="0" max="100" step="10" value="0" class="w-full">
                        <div class="flex justify-between">
                            <span>0%</span>
                            <span id="completionValue">0%</span>
                            <span>100%</span>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block mb-1 font-medium">Notes (Optional)</label>
                        <textarea id="statusNotes" class="w-full px-4 py-2 border border-gray-300 rounded-lg" rows="3"></textarea>
                    </div>
                    
                    <div class="flex justify-between">
                        <button type="button" id="extendTaskBtn" class="btn-secondary px-6 py-2 rounded-lg">Extend Task</button>
                        <div class="flex space-x-3">
                            <button type="button" id="cancelStatusBtn" class="px-6 py-2 bg-gray-300 rounded-lg">Cancel</button>
                            <button type="submit" class="btn-primary px-6 py-2 rounded-lg">Update Status</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Photo View Modal -->
        <div id="photoViewModal" class="modal">
            <div class="modal-content max-w-3xl w-full">
                <span class="close-modal" id="closePhotoViewModal">×</span>
                <h2 class="text-2xl font-bold mb-4 text-[#4F6D3A]" id="photoViewDate">Photo</h2>
                
                <div class="flex flex-col items-center">
                    <img id="photoViewImage" class="max-w-full max-h-[70vh] rounded-lg mb-4">
                    <p id="photoViewCaption" class="text-center text-gray-700"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentDate = new Date();
        let currentMonth = currentDate.getMonth();
        let currentYear = currentDate.getFullYear();
        let tasks = [];
        let photos = [];
        let curriculum = {
            HVAC: [],
            MachineDesign: [],
            DataAnalytics: [],
            AISaas: []
        };
        let studyProgress = {
            HVAC: 0,
            MachineDesign: 0,
            DataAnalytics: 0,
            AISaas: 0
        };
        let pomodoroCount = 0;
        let timerInterval;
        let timerMinutes = 25;
        let timerSeconds = 0;
        let timerRunning = false;
        
        // Philippine Holidays 2025
        const philippineHolidays = {
            "2025-01-01": "New Year's Day",
            "2025-01-25": "Chinese New Year",
            "2025-02-25": "EDSA Revolution Anniversary",
            "2025-04-09": "Araw ng Kagitingan",
            "2025-04-17": "Maundy Thursday",
            "2025-04-18": "Good Friday",
            "2025-04-19": "Black Saturday",
            "2025-05-01": "Labor Day",
            "2025-06-12": "Independence Day",
            "2025-08-21": "Ninoy Aquino Day",
            "2025-08-25": "National Heroes Day",
            "2025-11-01": "All Saints' Day",
            "2025-11-30": "Bonifacio Day",
            "2025-12-08": "Feast of the Immaculate Conception",
            "2025-12-25": "Christmas Day",
            "2025-12-30": "Rizal Day",
            "2025-12-31": "New Year's Eve"
        };
        
        // Sample curriculum data
        function loadSampleData() {
            curriculum.HVAC = [
                { id: 'hvac1', name: 'Thermodynamics Basics', description: 'Fundamental principles of thermodynamics', hours: 10, completed: 4 },
                { id: 'hvac2', name: 'Refrigeration Cycles', description: 'Understanding refrigeration cycles and components', hours: 8, completed: 2 },
                { id: 'hvac3', name: 'Heat Transfer', description: 'Principles of conduction, convection, and radiation', hours: 6, completed: 2 }
            ];
            
            curriculum.MachineDesign = [
                { id: 'md1', name: 'Mechanical Properties of Materials', description: 'Understanding material properties for design', hours: 8, completed: 1 },
                { id: 'md2', name: 'Stress Analysis', description: 'Methods for analyzing stress in components', hours: 10, completed: 2 }
            ];
            
            curriculum.DataAnalytics = [
                { id: 'da1', name: 'Statistical Methods', description: 'Basic and advanced statistical techniques', hours: 12, completed: 6 },
                { id: 'da2', name: 'Data Visualization', description: 'Creating effective data visualizations', hours: 8, completed: 3 },
                { id: 'da3', name: 'Machine Learning Basics', description: 'Introduction to ML algorithms', hours: 14, completed: 6 }
            ];
            
            curriculum.AISaas = [
                { id: 'ai1', name: 'AI Fundamentals', description: 'Core concepts in artificial intelligence', hours: 10, completed: 1 },
                { id: 'ai2', name: 'SaaS Business Models', description: 'Understanding SaaS business structures', hours: 6, completed: 1 }
            ];
            
            // Sample tasks
            tasks = [
                {
                    id: 'task1',
                    title: 'Study Heat Transfer',
                    category: 'study',
                    subject: 'HVAC',
                    priority: 'high',
                    startDate: '2025-01-15',
                    startTime: '09:00',
                    duration: 2,
                    description: 'Complete chapter 3 on heat transfer principles',
                    status: 'notStarted',
                    completion: 0
                },
                {
                    id: 'task2',
                    title: 'Data Visualization Project',
                    category: 'study',
                    subject: 'DataAnalytics',
                    priority: 'medium',
                    startDate: '2025-01-18',
                    startTime: '14:00',
                    duration: 3,
                    description: 'Create dashboard for sample dataset',
                    status: 'notStarted',
                    completion: 0
                },
                {
                    id: 'task3',
                    title: 'Research AI Applications',
                    category: 'study',
                    subject: 'AISaas',
                    priority: 'low',
                    startDate: '2025-01-20',
                    startTime: '10:00',
                    duration: 1,
                    description: 'Research current AI applications in industry',
                    status: 'notStarted',
                    completion: 0
                }
            ];
            
            // Calculate study progress
            updateStudyProgress();
        }
        
        // Initialize the application
        function init() {
            // Load sample data
            loadSampleData();
            
            // Set up digital clock
            updateClock();
            setInterval(updateClock, 1000);
            
            // Set up event listeners
            setupEventListeners();
            
            // Initialize calendar
            renderCalendar();
            
            // Initialize sheet view
            renderTaskSheet();
            
            // Initialize curriculum
            renderCurriculum();
            
            // Initialize charts
            renderCharts();
        }
        
        // Update digital clock
        function updateClock() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            
            hours = hours % 12;
            hours = hours ? hours : 12; // Convert 0 to 12
            hours = hours.toString().padStart(2, '0');
            
            document.getElementById('digitalClock').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Tab navigation
            document.querySelectorAll('.tab-btn').forEach(button => {
                button.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('tab-active'));
                    button.classList.add('tab-active');
                    
                    document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
                    document.getElementById(button.dataset.tab).classList.remove('hidden');
                    
                    // Refresh charts when curriculum tab is shown
                    if (button.dataset.tab === 'curriculum') {
                        renderCharts();
                    }
                });
            });
            
            // Calendar navigation
            document.getElementById('prevMonth').addEventListener('click', () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar();
            });
            
            document.getElementById('nextMonth').addEventListener('click', () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar();
            });
            
            // Add task button
            document.getElementById('addTaskBtn').addEventListener('click', () => openTaskModal());
            document.getElementById('addTaskSheetBtn').addEventListener('click', () => openTaskModal());
            
            // Add photo button
            document.getElementById('addPhotoBtn').addEventListener('click', () => openPhotoModal());
            
            // Task form
            document.getElementById('taskForm').addEventListener('submit', handleTaskSubmit);
            document.getElementById('cancelTaskBtn').addEventListener('click', () => closeModal('taskModal'));
            document.getElementById('closeTaskModal').addEventListener('click', () => closeModal('taskModal'));
            
            // Task category change
            document.getElementById('taskCategory').addEventListener('change', function() {
                const studySubjectContainer = document.getElementById('studySubjectContainer');
                if (this.value === 'study') {
                    studySubjectContainer.classList.remove('hidden');
                } else {
                    studySubjectContainer.classList.add('hidden');
                }
            });
            
            // Photo form
            document.getElementById('photoForm').addEventListener('submit', handlePhotoSubmit);
            document.getElementById('cancelPhotoBtn').addEventListener('click', () => closeModal('photoModal'));
            document.getElementById('closePhotoModal').addEventListener('click', () => closeModal('photoModal'));
            
            // Photo file validation
            document.getElementById('photoFile').addEventListener('change', validatePhotoSize);
            
            // Topic form
            document.getElementById('topicForm').addEventListener('submit', handleTopicSubmit);
            document.getElementById('cancelTopicBtn').addEventListener('click', () => closeModal('topicModal'));
            document.getElementById('closeTopicModal').addEventListener('click', () => closeModal('topicModal'));
            
            // Add topic buttons
            document.querySelectorAll('.add-topic-btn').forEach(button => {
                button.addEventListener('click', () => openTopicModal(button.dataset.subject));
            });
            
            // Status form
            document.getElementById('statusForm').addEventListener('submit', handleStatusSubmit);
            document.getElementById('cancelStatusBtn').addEventListener('click', () => closeModal('statusModal'));
            document.getElementById('closeStatusModal').addEventListener('click', () => closeModal('statusModal'));
            
            // Task completion slider
            document.getElementById('taskCompletion').addEventListener('input', function() {
                document.getElementById('completionValue').textContent = this.value + '%';
            });
            
            // Extend task button
            document.getElementById('extendTaskBtn').addEventListener('click', handleExtendTask);
            
            // Filter tasks
            document.getElementById('filterTasks').addEventListener('change', renderTaskSheet);
            
            // Photo view modal
            document.getElementById('closePhotoViewModal').addEventListener('click', () => closeModal('photoViewModal'));
            
            // Pomodoro timer controls
            document.getElementById('startTimer').addEventListener('click', startTimer);
            document.getElementById('pauseTimer').addEventListener('click', pauseTimer);
            document.getElementById('resetTimer').addEventListener('click', resetTimer);
            
            // Timer presets
            document.querySelectorAll('.timer-preset').forEach(button => {
                button.addEventListener('click', () => {
                    timerMinutes = parseInt(button.dataset.minutes);
                    timerSeconds = 0;
                    updateTimerDisplay();
                    resetTimer();
                });
            });
        }
        
        // Render calendar
        function renderCalendar() {
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            document.getElementById('currentMonth').textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            const calendarGrid = document.getElementById('calendarGrid');
            calendarGrid.innerHTML = '';
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'bg-gray-100 rounded-lg p-2 min-h-[120px]';
                calendarGrid.appendChild(emptyDay);
            }
            
            // Add cells for each day of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const dateString = `${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`;
                const dayCell = document.createElement('div');
                dayCell.className = 'bg-white rounded-lg p-2 calendar-day relative';
                dayCell.dataset.date = dateString;
                
                // Day number
                const dayNumber = document.createElement('div');
                dayNumber.className = 'text-right font-bold mb-2';
                dayNumber.textContent = day;
                
                // Check if it's a holiday
                if (philippineHolidays[dateString]) {
                    const holiday = document.createElement('div');
                    holiday.className = 'holiday mb-2';
                    holiday.textContent = philippineHolidays[dateString];
                    dayCell.appendChild(holiday);
                }
                
                dayCell.appendChild(dayNumber);
                
                // Add tasks for this day
                const dayTasks = tasks.filter(task => {
                    const startDate = new Date(task.startDate);
                    const endDate = new Date(startDate);
                    endDate.setDate(startDate.getDate() + (task.duration - 1));
                    
                    const cellDate = new Date(dateString);
                    return cellDate >= startDate && cellDate <= endDate;
                });
                
                if (dayTasks.length > 0) {
                    const taskList = document.createElement('div');
                    taskList.className = 'space-y-1';
                    
                    dayTasks.forEach(task => {
                        const taskItem = document.createElement('div');
                        taskItem.className = `task-item p-1 rounded text-xs cursor-pointer priority-${task.priority}`;
                        if (task.category === 'study') {
                            taskItem.classList.add(`category-${task.subject}`);
                        }
                        
                        taskItem.textContent = task.title;
                        taskItem.dataset.taskId = task.id;
                        taskItem.addEventListener('click', () => openStatusModal(task.id));
                        
                        taskList.appendChild(taskItem);
                    });
                    
                    dayCell.appendChild(taskList);
                }
                
                // Add photos for this day
                const dayPhotos = photos.filter(photo => photo.date === dateString);
                if (dayPhotos.length > 0) {
                    const photoContainer = document.createElement('div');
                    photoContainer.className = 'flex flex-wrap gap-1 mt-2';
                    
                    dayPhotos.forEach(photo => {
                        const photoThumb = document.createElement('img');
                        photoThumb.className = 'photo-thumbnail';
                        photoThumb.src = photo.dataUrl;
                        photoThumb.alt = photo.caption || 'Photo';
                        photoThumb.addEventListener('click', () => openPhotoViewModal(photo));
                        
                        photoContainer.appendChild(photoThumb);
                    });
                    
                    dayCell.appendChild(photoContainer);
                }
                
                // Add click event to add task for this day
                dayCell.addEventListener('dblclick', () => openTaskModal(dateString));
                
                calendarGrid.appendChild(dayCell);
            }
        }
        
        // Render task sheet
        function renderTaskSheet() {
            const taskSheetBody = document.getElementById('taskSheetBody');
            taskSheetBody.innerHTML = '';
            
            const filter = document.getElementById('filterTasks').value;
            let filteredTasks = [...tasks];
            
            // Apply filter
            if (filter !== 'all') {
                if (filter === 'upcoming') {
                    filteredTasks = tasks.filter(task => task.status === 'notStarted');
                } else if (filter === 'completed') {
                    filteredTasks = tasks.filter(task => task.status === 'completed');
                } else if (filter === 'overdue') {
                    const now = new Date();
                    filteredTasks = tasks.filter(task => {
                        const startDateTime = new Date(`${task.startDate}T${task.startTime}`);
                        const eightHoursLater = new Date(startDateTime);
                        eightHoursLater.setHours(startDateTime.getHours() + 8);
                        return task.status === 'notStarted' && now > eightHoursLater;
                    });
                } else if (filter === 'study') {
                    filteredTasks = tasks.filter(task => task.category === 'study');
                }
            }
            
            // Sort tasks by start date
            filteredTasks.sort((a, b) => {
                const dateA = new Date(`${a.startDate}T${a.startTime}`);
                const dateB = new Date(`${b.startDate}T${b.startTime}`);
                return dateA - dateB;
            });
            
            filteredTasks.forEach(task => {
                const row = document.createElement('tr');
                row.className = 'border-b hover:bg-gray-50';
                
                // Task title
                const titleCell = document.createElement('td');
                titleCell.className = 'py-3 px-4';
                titleCell.textContent = task.title;
                
                // Category
                const categoryCell = document.createElement('td');
                categoryCell.className = 'py-3 px-4';
                if (task.category === 'study') {
                    categoryCell.textContent = `Study: ${task.subject}`;
                } else {
                    categoryCell.textContent = task.category.charAt(0).toUpperCase() + task.category.slice(1);
                }
                
                // Priority
                const priorityCell = document.createElement('td');
                priorityCell.className = 'py-3 px-4';
                const priorityBadge = document.createElement('span');
                priorityBadge.className = 'px-2 py-1 rounded text-white text-xs';
                
                if (task.priority === 'high') {
                    priorityBadge.className += ' bg-[#E32E34]';
                    priorityBadge.textContent = 'High';
                } else if (task.priority === 'medium') {
                    priorityBadge.className += ' bg-[#FC5A8D]';
                    priorityBadge.textContent = 'Medium';
                } else {
                    priorityBadge.className += ' bg-[#8CB360]';
                    priorityBadge.textContent = 'Low';
                }
                
                priorityCell.appendChild(priorityBadge);
                
                // Start date
                const dateCell = document.createElement('td');
                dateCell.className = 'py-3 px-4';
                dateCell.textContent = `${formatDate(task.startDate)} ${task.startTime}`;
                
                // Duration
                const durationCell = document.createElement('td');
                durationCell.className = 'py-3 px-4';
                durationCell.textContent = `${task.duration} day${task.duration > 1 ? 's' : ''}`;
                
                // Status
                const statusCell = document.createElement('td');
                statusCell.className = 'py-3 px-4';
                const statusBadge = document.createElement('span');
                statusBadge.className = 'px-2 py-1 rounded text-white text-xs';
                
                if (task.status === 'completed') {
                    statusBadge.className += ' bg-[#8CB360]';
                    statusBadge.textContent = 'Completed';
                } else if (task.status === 'inProgress') {
                    statusBadge.className += ' bg-[#FC9FB1]';
                    statusBadge.textContent = 'In Progress';
                } else {
                    statusBadge.className += ' bg-gray-500';
                    statusBadge.textContent = 'Not Started';
                }
                
                statusCell.appendChild(statusBadge);
                
                // Actions
                const actionsCell = document.createElement('td');
                actionsCell.className = 'py-3 px-4';
                
                const updateBtn = document.createElement('button');
                updateBtn.className = 'btn-primary px-3 py-1 rounded-lg text-sm mr-2';
                updateBtn.innerHTML = '<i class="fas fa-edit"></i>';
                updateBtn.addEventListener('click', () => openStatusModal(task.id));
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn-danger px-3 py-1 rounded-lg text-sm';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.addEventListener('click', () => deleteTask(task.id));
                
                actionsCell.appendChild(updateBtn);
                actionsCell.appendChild(deleteBtn);
                
                // Add cells to row
                row.appendChild(titleCell);
                row.appendChild(categoryCell);
                row.appendChild(priorityCell);
                row.appendChild(dateCell);
                row.appendChild(durationCell);
                row.appendChild(statusCell);
                row.appendChild(actionsCell);
                
                taskSheetBody.appendChild(row);
            });
        }
        
        // Render curriculum
        function renderCurriculum() {
            // Render HVAC topics
            renderTopics('hvacTopics', curriculum.HVAC);
            
            // Render Machine Design topics
            renderTopics('machineDesignTopics', curriculum.MachineDesign);
            
            // Render Data Analytics topics
            renderTopics('dataAnalyticsTopics', curriculum.DataAnalytics);
            
            // Render AI SaaS topics
            renderTopics('aiSaasTopics', curriculum.AISaas);
            
            // Update progress bars
            updateStudyProgress();
        }
        
        // Render topics for a subject
        function renderTopics(containerId, topics) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            if (topics.length === 0) {
                const emptyMessage = document.createElement('p');
                emptyMessage.className = 'text-gray-500 italic';
                emptyMessage.textContent = 'No topics added yet.';
                container.appendChild(emptyMessage);
                return;
            }
            
            topics.forEach(topic => {
                const topicItem = document.createElement('div');
                topicItem.className = 'curriculum-item p-3 border-b border-gray-200';
                
                const topicHeader = document.createElement('div');
                topicHeader.className = 'flex justify-between items-center';
                
                const topicTitle = document.createElement('h4');
                topicTitle.className = 'font-medium';
                topicTitle.textContent = topic.name;
                
                const topicActions = document.createElement('div');
                topicActions.className = 'flex space-x-2';
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'text-[#E32E34]';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.addEventListener('click', () => deleteTopic(topic.id));
                
                topicActions.appendChild(deleteBtn);
                
                topicHeader.appendChild(topicTitle);
                topicHeader.appendChild(topicActions);
                
                const topicDetails = document.createElement('div');
                topicDetails.className = 'mt-2';
                
                if (topic.description) {
                    const description = document.createElement('p');
                    description.className = 'text-sm text-gray-600 mb-2';
                    description.textContent = topic.description;
                    topicDetails.appendChild(description);
                }
                
                const progressContainer = document.createElement('div');
                progressContainer.className = 'flex items-center';
                
                const progressBar = document.createElement('div');
                progressBar.className = 'flex-1 progress-bar';
                
                const progressFill = document.createElement('div');
                progressFill.className = 'progress-fill';
                const progressPercent = topic.completed / topic.hours * 100;
                progressFill.style.width = `${progressPercent}%`;
                
                progressBar.appendChild(progressFill);
                
                const progressText = document.createElement('span');
                progressText.className = 'ml-2 text-sm';
                progressText.textContent = `${topic.completed}/${topic.hours} hours`;
                
                progressContainer.appendChild(progressBar);
                progressContainer.appendChild(progressText);
                
                topicDetails.appendChild(progressContainer);
                
                topicItem.appendChild(topicHeader);
                topicItem.appendChild(topicDetails);
                
                container.appendChild(topicItem);
            });
        }
        
        // Update study progress
        function updateStudyProgress() {
            // Calculate total hours and completed hours for each subject
            const subjects = ['HVAC', 'MachineDesign', 'DataAnalytics', 'AISaas'];
            
            subjects.forEach(subject => {
                const topics = curriculum[subject];
                let totalHours = 0;
                let completedHours = 0;
                
                topics.forEach(topic => {
                    totalHours += topic.hours;
                    completedHours += topic.completed;
                });
                
                const progressPercent = totalHours > 0 ? (completedHours / totalHours * 100) : 0;
                studyProgress[subject] = progressPercent;
                
                // Update progress bar
                const progressBar = document.getElementById(`${subject.toLowerCase()}Progress`);
                if (progressBar) {
                    progressBar.style.width = `${progressPercent}%`;
                }
            });
            
            // Render charts
            renderCharts();
        }
        
        // Render charts
        function renderCharts() {
            // Study progress chart
            const progressCtx = document.getElementById('studyProgressChart');
            if (progressCtx) {
                if (progressCtx.chart) {
                    progressCtx.chart.destroy();
                }
                
                progressCtx.chart = new Chart(progressCtx, {
                    type: 'bar',
                    data: {
                        labels: ['HVAC', 'Machine Design', 'Data Analytics', 'AI SaaS'],
                        datasets: [{
                            label: 'Progress (%)',
                            data: [
                                studyProgress.HVAC,
                                studyProgress.MachineDesign,
                                studyProgress.DataAnalytics,
                                studyProgress.AISaas
                            ],
                            backgroundColor: [
                                '#4F6D3A',
                                '#8CB360',
                                '#FC9FB1',
                                '#FC5A8D'
                            ]
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100
                            }
                        }
                    }
                });
            }
            
            // Study time distribution chart
            const distributionCtx = document.getElementById('studyDistributionChart');
            if (distributionCtx) {
                if (distributionCtx.chart) {
                    distributionCtx.chart.destroy();
                }
                
                // Calculate study time for each subject
                const studyTasks = tasks.filter(task => task.category === 'study');
                const subjectHours = {
                    HVAC: 0,
                    MachineDesign: 0,
                    DataAnalytics: 0,
                    AISaas: 0
                };
                
                studyTasks.forEach(task => {
                    if (task.subject && task.duration) {
                        subjectHours[task.subject] += task.duration * 24; // Convert days to hours
                    }
                });
                
                distributionCtx.chart = new Chart(distributionCtx, {
                    type: 'pie',
                    data: {
                        labels: ['HVAC', 'Machine Design', 'Data Analytics', 'AI SaaS'],
                        datasets: [{
                            data: [
                                subjectHours.HVAC,
                                subjectHours.MachineDesign,
                                subjectHours.DataAnalytics,
                                subjectHours.AISaas
                            ],
                            backgroundColor: [
                                '#4F6D3A',
                                '#8CB360',
                                '#FC9FB1',
                                '#FC5A8D'
                            ]
                        }]
                    }
                });
            }
        }
        
        // Open task modal
        function openTaskModal(date = null) {
            const modal = document.getElementById('taskModal');
            const form = document.getElementById('taskForm');
            
            // Reset form
            form.reset();
            document.getElementById('taskId').value = '';
            document.getElementById('studySubjectContainer').classList.add('hidden');
            
            // Set date if provided
            if (date) {
                document.getElementById('taskDate').value = date;
                document.getElementById('taskStartDate').value = date;
            } else {
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('taskStartDate').value = today;
            }
            
            // Set default time
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('taskStartTime').value = `${hours}:${minutes}`;
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Open photo modal
        function openPhotoModal(date = null) {
            const modal = document.getElementById('photoModal');
            const form = document.getElementById('photoForm');
            
            // Reset form
            form.reset();
            
            // Set date if provided
            if (date) {
                document.getElementById('photoDate').value = date;
                document.getElementById('selectPhotoDate').value = date;
            } else {
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('selectPhotoDate').value = today;
            }
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Open topic modal
        function openTopicModal(subject) {
            const modal = document.getElementById('topicModal');
            const form = document.getElementById('topicForm');
            
            // Reset form
            form.reset();
            document.getElementById('topicSubject').value = subject;
            
            // Update modal title
            const subjectNames = {
                'HVAC': 'HVAC',
                'MachineDesign': 'Machine Design',
                'DataAnalytics': 'Data Analytics',
                'AISaas': 'AI SaaS Automation'
            };
            document.querySelector('#topicModal h2').textContent = `Add ${subjectNames[subject]} Topic`;
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Open status modal
        function openStatusModal(taskId) {
            const task = tasks.find(t => t.id === taskId);
            if (!task) return;
            
            const modal = document.getElementById('statusModal');
            const form = document.getElementById('statusForm');
            
            // Reset form
            form.reset();
            document.getElementById('statusTaskId').value = taskId;
            
            // Set task details
            document.getElementById('statusTaskTitle').textContent = task.title;
            document.getElementById('statusTaskDetails').textContent = `${formatDate(task.startDate)} | ${task.category === 'study' ? task.subject : task.category} | ${task.priority} priority`;
            document.getElementById('taskStatus').value = task.status;
            document.getElementById('taskCompletion').value = task.completion || 0;
            document.getElementById('completionValue').textContent = `${task.completion || 0}%`;
            document.getElementById('statusNotes').value = task.notes || '';
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Open photo view modal
        function openPhotoViewModal(photo) {
            const modal = document.getElementById('photoViewModal');
            
            document.getElementById('photoViewDate').textContent = `Photo - ${formatDate(photo.date)}`;
            document.getElementById('photoViewImage').src = photo.dataUrl;
            document.getElementById('photoViewCaption').textContent = photo.caption || '';
            
            // Show modal
            modal.style.display = 'flex';
        }
        
        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Handle task form submit
        function handleTaskSubmit(e) {
            e.preventDefault();
            
            const taskId = document.getElementById('taskId').value || 'task' + Date.now();
            const title = document.getElementById('taskTitle').value;
            const category = document.getElementById('taskCategory').value;
            const priority = document.getElementById('taskPriority').value;
            const startDate = document.getElementById('taskStartDate').value;
            const startTime = document.getElementById('taskStartTime').value;
            const duration = parseInt(document.getElementById('taskDuration').value);
            const description = document.getElementById('taskDescription').value;
            
            let subject = null;
            if (category === 'study') {
                subject = document.getElementById('studySubject').value;
            }
            
            const task = {
                id: taskId,
                title,
                category,
                subject,
                priority,
                startDate,
                startTime,
                duration,
                description,
                status: 'notStarted',
                completion: 0
            };
            
            // Check if task exists
            const existingTaskIndex = tasks.findIndex(t => t.id === taskId);
            if (existingTaskIndex >= 0) {
                tasks[existingTaskIndex] = task;
            } else {
                tasks.push(task);
            }
            
            // Close modal
            closeModal('taskModal');
            
            // Update views
            renderCalendar();
            renderTaskSheet();
        }
        
        // Handle photo form submit
        function handlePhotoSubmit(e) {
            e.preventDefault();
            
            const photoFile = document.getElementById('photoFile').files[0];
            if (!photoFile) return;
            
            const date = document.getElementById('selectPhotoDate').value;
            const caption = document.getElementById('photoCaption').value;
            
            // Read file as data URL
            const reader = new FileReader();
            reader.onload = function(event) {
                const photo = {
                    id: 'photo' + Date.now(),
                    date,
                    dataUrl: event.target.result,
                    caption
                };
                
                photos.push(photo);
                
                // Close modal
                closeModal('photoModal');
                
                // Update calendar
                renderCalendar();
            };
            
            reader.readAsDataURL(photoFile);
        }
        
        // Handle topic form submit
        function handleTopicSubmit(e) {
            e.preventDefault();
            
            const subject = document.getElementById('topicSubject').value;
            const name = document.getElementById('topicName').value;
            const description = document.getElementById('topicDescription').value;
            const hours = parseInt(document.getElementById('topicHours').value);
            
            const topic = {
                id: subject.toLowerCase() + Date.now(),
                name,
                description,
                hours,
                completed: 0
            };
            
            curriculum[subject].push(topic);
            
            // Close modal
            closeModal('topicModal');
            
            // Update curriculum
            renderCurriculum();
        }
        
        // Handle status form submit
        function handleStatusSubmit(e) {
            e.preventDefault();
            
            const taskId = document.getElementById('statusTaskId').value;
            const status = document.getElementById('taskStatus').value;
            const completion = parseInt(document.getElementById('taskCompletion').value);
            const notes = document.getElementById('statusNotes').value;
            
            const taskIndex = tasks.findIndex(t => t.id === taskId);
            if (taskIndex >= 0) {
                tasks[taskIndex].status = status;
                tasks[taskIndex].completion = completion;
                tasks[taskIndex].notes = notes;
                
                // If task is completed, set completion to 100%
                if (status === 'completed') {
                    tasks[taskIndex].completion = 100;
                }
            }
            
            // Close modal
            closeModal('statusModal');
            
            // Update views
            renderCalendar();
            renderTaskSheet();
        }
        
        // Handle extend task
        function handleExtendTask() {
            const taskId = document.getElementById('statusTaskId').value;
            const taskIndex = tasks.findIndex(t => t.id === taskId);
            
            if (taskIndex >= 0) {
                tasks[taskIndex].duration += 1;
                
                // Update status modal
                document.getElementById('statusTaskDetails').textContent = `${formatDate(tasks[taskIndex].startDate)} | ${tasks[taskIndex].category === 'study' ? tasks[taskIndex].subject : tasks[taskIndex].category} | ${tasks[taskIndex].priority} priority | ${tasks[taskIndex].duration} days`;
            }
        }
        
        // Delete task
        function deleteTask(taskId) {
            if (confirm('Are you sure you want to delete this task?')) {
                tasks = tasks.filter(task => task.id !== taskId);
                renderCalendar();
                renderTaskSheet();
            }
        }
        
        // Delete topic
        function deleteTopic(topicId) {
            if (confirm('Are you sure you want to delete this topic?')) {
                for (const subject in curriculum) {
                    curriculum[subject] = curriculum[subject].filter(topic => topic.id !== topicId);
                }
                renderCurriculum();
            }
        }
        
        // Validate photo size
        function validatePhotoSize() {
            const photoFile = document.getElementById('photoFile').files[0];
            if (photoFile && photoFile.size > 5 * 1024 * 1024) {
                alert('File size exceeds 5MB limit. Please select a smaller file.');
                document.getElementById('photoFile').value = '';
            }
        }
        
        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            const options = { month: 'short', day: 'numeric', year: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        }
        
        // Pomodoro timer functions
        function updateTimerDisplay() {
            const minutes = timerMinutes.toString().padStart(2, '0');
            const seconds = timerSeconds.toString().padStart(2, '0');
            document.getElementById('timerDisplay').textContent = `${minutes}:${seconds}`;
        }
        
        function startTimer() {
            if (timerRunning) return;
            
            document.getElementById('startTimer').disabled = true;
            document.getElementById('pauseTimer').disabled = false;
            
            timerRunning = true;
            
            // Update current session
            if (timerMinutes === 25) {
                document.getElementById('currentSession').textContent = 'Pomodoro Session';
            } else if (timerMinutes === 5) {
                document.getElementById('currentSession').textContent = 'Short Break';
            } else if (timerMinutes === 15) {
                document.getElementById('currentSession').textContent = 'Long Break';
            }
            
            timerInterval = setInterval(() => {
                if (timerSeconds > 0) {
                    timerSeconds--;
                } else if (timerMinutes > 0) {
                    timerMinutes--;
                    timerSeconds = 59;
                } else {
                    // Timer completed
                    clearInterval(timerInterval);
                    timerRunning = false;
                    
                    // Play notification sound (would be implemented here if audio was supported)
                    
                    // If it was a pomodoro session, increment count
                    if (document.getElementById('currentSession').textContent === 'Pomodoro Session') {
                        pomodoroCount++;
                        document.getElementById('pomodoroCount').textContent = `${pomodoroCount}/8`;
                        document.getElementById('pomodoroProgress').style.width = `${(pomodoroCount / 8) * 100}%`;
                    }
                    
                    document.getElementById('startTimer').disabled = false;
                    document.getElementById('pauseTimer').disabled = true;
                }
                
                updateTimerDisplay();
            }, 1000);
        }
        
        function pauseTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            document.getElementById('startTimer').disabled = false;
            document.getElementById('pauseTimer').disabled = true;
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            timerRunning = false;
            timerMinutes = 25;
            timerSeconds = 0;
            updateTimerDisplay();
            document.getElementById('startTimer').disabled = false;
            document.getElementById('pauseTimer').disabled = true;
            document.getElementById('currentSession').textContent = 'Not started';
        }
        
        // Check for tasks that need to be rescheduled
        function checkTaskRescheduling() {
            const now = new Date();
            
            tasks.forEach(task => {
                if (task.status === 'notStarted') {
                    const startDateTime = new Date(`${task.startDate}T${task.startTime}`);
                    const eightHoursLater = new Date(startDateTime);
                    eightHoursLater.setHours(startDateTime.getHours() + 8);
                    
                    if (now > eightHoursLater) {
                        // Move task to next day
                        const nextDay = new Date(task.startDate);
                        nextDay.setDate(nextDay.getDate() + 1);
                        task.startDate = nextDay.toISOString().split('T')[0];
                    }
                }
            });
            
            renderCalendar();
            renderTaskSheet();
        }
        
        // Run task rescheduling check every hour
        setInterval(checkTaskRescheduling, 3600000);
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93cdaab43131fec7',t:'MTc0Njc1NjY5NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>
</body></html>
